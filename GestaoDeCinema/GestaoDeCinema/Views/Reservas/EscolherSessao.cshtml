@model IEnumerable<GestaoDeCinema.Models.Sessao>

@{
    Layout = "_LayoutReservas";
    ViewData["Title"] = "Escolher Sess√£o";
    var filme = ViewBag.Filme as GestaoDeCinema.Models.Filme;
}

<div class="filme-header text-center text-md-start">
    <h1 class="h4 fw-bold text-white mb-2">üé¨ @(filme?.Titulo ?? "Filme")</h1>
    <p class="text-white-60 mb-0">@(filme?.Genero ?? "N/A") ‚Ä¢ @(filme?.Duracao ?? 0) minutos</p>
</div>

<h5 class="fw-bold mb-4 text-white">Escolha um Hor√°rio</h5>

@foreach (var sessao in Model)
{
    <div class="sessao-card">
        <div class="row align-items-center">
            <div class="col-md-5">
                <h6 class="fw-bold mb-2 text-white">
                    <span class="material-symbols-outlined">schedule</span>
                    @sessao.Hora.ToString("dddd, dd 'de' MMMM '√†s' HH:mm", new System.Globalization.CultureInfo("pt-PT"))
                </h6>
                <p class="small mb-1" style="color: #ec135b; font-weight: 600;">
                    Sala @(sessao.Sala)
                </p>
                <p class="disponibilidade mb-0">
                    <span class="material-symbols-outlined" style="font-size: 18px;">event_seat</span>
                    @(sessao.Capacidade) lugares dispon√≠veis
                </p>
            </div>
            <div class="col-md-3 text-center my-3 my-md-0">
                <h4 class="mb-0" style="color: #4caf50; font-weight: 600;">@(sessao.Preco.ToString("C"))</h4>
                <small class="text-white-60">por bilhete</small>
            </div>
            <div class="col-md-4 text-end">
                <a asp-controller="Reservas" asp-action="EscolherAssento" asp-route-id="@sessao.Id" class="btn-comprar">
                    <span class="material-symbols-outlined">confirmation_number</span>
                    Comprar Bilhete
                </a>
            </div>
        </div>
    </div>
}

@if (!Model.Any())
{
    <div class="text-center py-5">
        <span class="material-symbols-outlined" style="font-size: 64px; color: var(--text-muted);">event_busy</span>
        <h5 class="text-muted mt-3">Nenhuma sess√£o dispon√≠vel</h5>
        <p class="text-muted">Este filme n√£o tem sess√µes programadas no momento.</p>
    </div>
}

<div class="mt-5">
    <a asp-controller="Home" asp-action="Index" class="btn-outline-custom text-decoration-none">
        <span class="material-symbols-outlined">arrow_back</span>
        Voltar aos Filmes
    </a>
</div>
